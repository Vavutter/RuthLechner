<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ordination Dr. Ruth Lechner – Innere Medizin & Geriatrie</title>
  <meta name="description" content="Internistische Facharztordination mit Zusatzfach Geriatrie in Feldkirchen. Moderne Diagnostik und ganzheitliche Betreuung." />
  <meta name="theme-color" content="#0d4b45" />
  
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Smooth Scrolling Library -->
  <script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50: '#f0fdfa',
              100: '#ccfbf1',
              800: '#115e59',
              900: '#134e4a',
              950: '#0d4b45',
              dark: '#052e2a',
            }
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            serif: ['Instrument Serif', 'serif'],
          },
          animation: {
            'marquee': 'marquee 38s linear infinite',
            'float': 'float 7.5s cubic-bezier(0.22, 1, 0.36, 1) infinite',
          },
          keyframes: {
            marquee: {
              '0%': { transform: 'translate3d(0, 0, 0)' },
              '100%': { transform: 'translate3d(-50%, 0, 0)' },
            },
            float: {
              '0%, 100%': { transform: 'translate3d(0, 0, 0) rotate(-0.6deg)' },
              '50%': { transform: 'translate3d(0, -12px, 0) rotate(0.6deg)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    :root {
      --motion-out: cubic-bezier(0.19, 1, 0.22, 1);
      --motion-spring: cubic-bezier(0.16, 1, 0.3, 1);
      --motion-snap: cubic-bezier(0.2, 0.8, 0.2, 1);
      --lift-shadow: 0 24px 54px rgba(4, 27, 24, 0.2);
      --glow-shadow: 0 8px 28px rgba(16, 185, 129, 0.28);
      --mobile-nav-height: 4.25rem;
      --mobile-cta-height: 4.1rem;
    }

    /* Lenis base styles */
    html.lenis, html.lenis body { height: auto; }
    .lenis.lenis-smooth { scroll-behavior: auto !important; }
    .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
    .lenis.lenis-stopped { overflow: hidden; }
    .lenis.lenis-smooth iframe { pointer-events: none; }

    body { background-color: #052e2a; }

    .reveal {
      --reveal-order: 0;
      opacity: 0;
      filter: blur(12px);
      transform: translate3d(0, 60px, 0) scale(0.96);
      clip-path: polygon(0 10%, 100% 10%, 100% 100%, 0 100%);
      transition:
        opacity 1000ms var(--motion-out),
        transform 1200ms var(--motion-spring),
        filter 1200ms var(--motion-out),
        clip-path 1200ms var(--motion-spring);
      transition-delay: calc(var(--reveal-order) * 85ms);
      will-change: transform, opacity, filter, clip-path;
    }
    .reveal.active {
      opacity: 1;
      filter: blur(0);
      transform: translate3d(0, 0, 0) scale(1);
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    }
    .reveal[data-reveal-axis="x"] {
      transform: translate3d(60px, 0, 0) scale(0.982);
      clip-path: polygon(10% 0, 100% 0, 100% 100%, 10% 100%);
    }
    .reveal.active[data-reveal-axis="x"] {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    }

    .motion-button {
      position: relative;
      overflow: hidden;
      transition:
        transform 380ms var(--motion-spring),
        box-shadow 380ms var(--motion-out),
        background-color 280ms var(--motion-snap),
        color 280ms var(--motion-snap);
      will-change: transform;
      transform: translate3d(0, 0, 0);
    }
    .motion-button::before {
      content: "";
      position: absolute;
      inset: -130% auto -130% -75%;
      width: 52%;
      background: linear-gradient(115deg, transparent, rgba(255, 255, 255, 0.55), transparent);
      transform: translateX(-210%) rotate(14deg);
      transition: transform 760ms var(--motion-out);
      pointer-events: none;
    }
    .motion-button:hover {
      transform: translate3d(0, -2px, 0);
      box-shadow: var(--glow-shadow);
    }
    .motion-button:hover::before {
      transform: translateX(270%) rotate(14deg);
    }
    .motion-button:active {
      transform: translate3d(0, 0, 0);
    }

    .motion-link {
      position: relative;
      transition: color 260ms var(--motion-snap);
    }
    .motion-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -0.28rem;
      width: 100%;
      height: 1px;
      background: currentColor;
      transform: scaleX(0);
      transform-origin: left center;
      transition: transform 360ms var(--motion-spring);
      opacity: 0.6;
    }
    .motion-link:hover::after,
    .motion-link:focus-visible::after {
      transform: scaleX(1);
    }

    .motion-card {
      position: relative;
      --card-lift: 0px;
      --card-offset-x: 0px;
      --card-offset-y: 0px;
      --card-tilt-x: 0deg;
      --card-tilt-y: 0deg;
      transform:
        perspective(1200px)
        translate3d(var(--card-offset-x), calc(var(--card-offset-y) + var(--card-lift)), 0)
        rotateX(var(--card-tilt-x))
        rotateY(var(--card-tilt-y));
      transition:
        transform 560ms var(--motion-spring),
        box-shadow 560ms var(--motion-out),
        border-color 360ms var(--motion-snap),
        background-color 320ms var(--motion-snap);
      will-change: transform, box-shadow;
      isolation: isolate;
      transform-style: preserve-3d;
    }
    .motion-card::after {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: radial-gradient(80% 72% at 20% 12%, rgba(16, 185, 129, 0.16), transparent 64%);
      opacity: 0;
      transition: opacity 460ms var(--motion-out);
      pointer-events: none;
      z-index: -1;
    }
    .motion-card::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(120deg, transparent 35%, rgba(255, 255, 255, 0.22) 50%, transparent 65%);
      opacity: 0;
      transform: translate3d(-120%, 0, 0);
      transition: opacity 420ms var(--motion-out), transform 920ms var(--motion-out);
      pointer-events: none;
      z-index: 0;
      mix-blend-mode: screen;
    }
    .motion-card:hover {
      --card-lift: -8px;
      box-shadow: var(--lift-shadow);
    }
    .motion-card:hover::after {
      opacity: 1;
    }
    .motion-card:hover::before {
      opacity: 0.72;
      transform: translate3d(120%, 0, 0);
    }
    .motion-card > * {
      position: relative;
      z-index: 1;
    }

    .hero-aura {
      animation: auraDrift 16s var(--motion-snap) infinite alternate;
      will-change: transform, opacity;
    }
    .hero-image {
      animation: heroZoom 20s var(--motion-out) infinite alternate;
      transform-origin: 50% 52%;
      will-change: transform;
    }
    .scroll-cue {
      animation: scrollCue 2.4s var(--motion-spring) infinite;
    }
    .pulse-dot {
      animation: softPulse 1.9s ease-in-out infinite;
    }

    .marquee-shell .animate-marquee {
      display: inline-flex;
      min-width: max-content;
      will-change: transform;
      transform: translate3d(0, 0, 0);
      animation-duration: 38s !important;
    }
    .marquee-shell:hover .animate-marquee {
      animation-play-state: paused;
    }

    #navbar {
      transition:
        background-color 420ms var(--motion-out),
        border-color 420ms var(--motion-out),
        box-shadow 460ms var(--motion-out),
        backdrop-filter 420ms var(--motion-out),
        transform 500ms var(--motion-spring);
      transform-origin: top center;
    }
    #navbar.nav-scrolled {
      transform: translate3d(0, 0, 0) scale(0.995);
      box-shadow: 0 16px 44px rgba(1, 16, 14, 0.36);
      border-color: rgba(255, 255, 255, 0.12);
    }
    #scroll-progress {
      transform-origin: left center;
      transition: transform 140ms linear;
      will-change: transform;
    }

    #map-scroll-label {
      transition:
        opacity 260ms var(--motion-out),
        transform 380ms var(--motion-spring),
        filter 320ms var(--motion-out);
      will-change: opacity, transform, filter;
    }
    #map-scroll-label.is-swapping {
      opacity: 0.15;
      transform: translate3d(0, 10px, 0);
      filter: blur(3px);
    }

    .contact-block {
      transition:
        transform 420ms var(--motion-spring),
        opacity 320ms var(--motion-out);
      will-change: transform;
    }
    .contact-block:hover {
      transform: translate3d(8px, 0, 0);
    }

    .schedule-row {
      position: relative;
      transition:
        transform 340ms var(--motion-spring),
        border-color 340ms var(--motion-snap),
        color 280ms var(--motion-snap);
      will-change: transform;
    }
    .schedule-row::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      height: 1px;
      background: linear-gradient(90deg, rgba(16, 185, 129, 0), rgba(16, 185, 129, 0.65), rgba(16, 185, 129, 0));
      opacity: 0;
      transform: scaleX(0.2);
      transform-origin: left center;
      transition: opacity 300ms var(--motion-out), transform 420ms var(--motion-spring);
      pointer-events: none;
    }
    .schedule-row:hover {
      transform: translate3d(8px, 0, 0);
      border-color: rgba(16, 185, 129, 0.45);
    }
    .schedule-row:hover::after {
      opacity: 1;
      transform: scaleX(1);
    }

    .footer-shell {
      position: relative;
      overflow: hidden;
    }
    .footer-shell::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(60% 120% at 14% -30%, rgba(16, 185, 129, 0.24), transparent 64%);
      opacity: 0.4;
      transform: translate3d(-8%, 0, 0);
      transition: transform 900ms var(--motion-out), opacity 700ms var(--motion-out);
      pointer-events: none;
    }
    .footer-shell:hover::before {
      opacity: 0.8;
      transform: translate3d(4%, 0, 0);
    }
    .footer-shell > * {
      position: relative;
      z-index: 1;
    }

    #mobile-menu {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transform: translate3d(0, -16px, 0) scale(1.02);
      transition:
        opacity 420ms var(--motion-out),
        transform 600ms var(--motion-spring),
        visibility 420ms linear;
    }
    #mobile-menu.is-open {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      transform: translate3d(0, 0, 0) scale(1);
    }
    #mobile-menu [data-menu-item] {
      opacity: 0;
      transform: translate3d(0, 16px, 0);
      transition:
        opacity 400ms var(--motion-out),
        transform 500ms var(--motion-spring);
      will-change: transform, opacity;
    }
    #mobile-menu.is-open [data-menu-item] {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    #modal-backdrop {
      transition: opacity 420ms var(--motion-out);
    }
    #modal-content {
      transform-origin: 50% 8%;
      transition:
        transform 620ms var(--motion-spring),
        opacity 420ms var(--motion-out),
        filter 620ms var(--motion-out);
    }
    #modal-content.opacity-0 {
      filter: blur(12px);
      transform: scale(0.96) translate3d(0, 20px, 0);
    }
    #modal-content.opacity-100 {
      filter: blur(0);
      transform: scale(1) translate3d(0, 0, 0);
    }

    @keyframes auraDrift {
      0% {
        transform: translate3d(-2%, -2%, 0) scale(1);
        opacity: 0.5;
      }
      100% {
        transform: translate3d(2%, 2%, 0) scale(1.08);
        opacity: 0.72;
      }
    }

    @keyframes heroZoom {
      0% { transform: scale(1.035); }
      100% { transform: scale(1.11); }
    }

    @keyframes scrollCue {
      0%, 100% {
        transform: translate3d(-50%, 0, 0);
        opacity: 0.46;
      }
      50% {
        transform: translate3d(-50%, 9px, 0);
        opacity: 0.85;
      }
    }

    @keyframes softPulse {
      0%, 100% {
        transform: scale(1);
        opacity: 0.75;
      }
      50% {
        transform: scale(1.22);
        opacity: 1;
      }
    }

    /* Custom elegant scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #052e2a; }
    ::-webkit-scrollbar-thumb { background: #134e4a; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #115e59; }

    /* Noise overlay for premium texture */
    .bg-noise {
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    }

    .mobile-cta-bar,
    .section-map-mobile {
      display: none;
    }

    @media (max-width: 767px) {
      html {
        scroll-padding-top: calc(var(--mobile-nav-height) + 14px);
      }

      body {
        padding-bottom: calc(var(--mobile-cta-height) + env(safe-area-inset-bottom) + 14px);
      }

      .nav-shell {
        height: var(--mobile-nav-height);
        padding-left: 1rem;
        padding-right: 1rem;
      }

      .nav-brand {
        font-size: 1rem;
        gap: 0.55rem;
      }

      .nav-brand-logo {
        width: 2.05rem;
        height: 2.05rem;
        font-size: 0.66rem;
      }

      .nav-brand-wordmark {
        max-width: 11rem;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .nav-toggle {
        padding: 0.5rem;
      }

      #mobile-menu {
        padding: calc(1.3rem + env(safe-area-inset-top)) 1.3rem calc(2rem + env(safe-area-inset-bottom));
        align-items: stretch;
        justify-content: flex-start;
        text-align: left;
        gap: 0.35rem;
      }

      #mobile-menu [data-menu-item] {
        font-size: 1.9rem;
        line-height: 1.06;
        padding: 0.35rem 0;
      }

      #mobile-menu .mobile-menu-call {
        margin-top: 1rem;
        width: 100%;
        justify-content: center;
      }

      .hero-aura {
        animation: none;
        opacity: 0.45;
      }

      .hero-image {
        animation: none;
        transform: scale(1.04);
      }

      .hero-section {
        min-height: auto;
        padding-top: calc(var(--mobile-nav-height) + 1.5rem);
      }

      .hero-content {
        align-items: flex-start;
        text-align: left;
        padding-left: 1rem;
        padding-right: 1rem;
        padding-bottom: 2.8rem;
      }

      .hero-badge {
        margin-bottom: 1.15rem;
        padding: 0.42rem 0.72rem;
      }

      .hero-title {
        font-size: clamp(2.45rem, 13vw, 3.55rem);
        line-height: 0.93;
        margin-bottom: 1.1rem;
      }

      .hero-subtitle {
        margin-left: 0;
        margin-right: 0;
        margin-bottom: 1.35rem;
        font-size: clamp(1.04rem, 5.1vw, 1.28rem);
        line-height: 1.42;
        color: rgba(255, 255, 255, 0.76);
      }

      .hero-actions {
        width: 100%;
        gap: 0.85rem;
        align-items: stretch;
      }

      .hero-actions > a {
        width: 100%;
        justify-content: space-between;
        padding: 1rem 1.15rem;
        font-size: 1rem;
      }

      .hero-billing {
        width: 100%;
        padding: 0.85rem 1rem;
        border-radius: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.15);
        background: rgba(5, 46, 42, 0.4);
      }

      .hero-scroll-cue {
        display: none;
      }

      .marquee-shell {
        padding-top: 0.52rem;
        padding-bottom: 0.52rem;
      }

      .marquee-shell .animate-marquee {
        animation-duration: 24s !important;
        letter-spacing: 0.14em;
      }

      .reveal {
        filter: none;
        clip-path: none;
        transform: translate3d(0, 22px, 0) scale(1);
      }

      .reveal.active {
        transform: translate3d(0, 0, 0) scale(1);
      }

      .section-approach,
      .section-services,
      .section-contact {
        padding-top: 4.75rem;
        padding-bottom: 4.75rem;
      }

      .section-approach .grid,
      .section-contact .contact-layout {
        gap: 2.1rem;
      }

      .section-approach h2,
      .section-services h2,
      .section-contact h2 {
        font-size: clamp(2.02rem, 10.5vw, 2.85rem);
        line-height: 1.02;
      }

      .section-stats {
        padding-top: 3.35rem;
        padding-bottom: 3.35rem;
      }

      .section-stats .grid {
        gap: 0.85rem;
      }

      .section-stats .grid > div {
        background: #f8faf9;
        border: 1px solid rgba(19, 78, 74, 0.08);
        border-radius: 1rem;
        padding: 1rem 0.6rem;
      }

      .section-stats .metric-value {
        font-size: clamp(2rem, 10.8vw, 2.85rem);
        margin-bottom: 0.45rem;
      }

      .section-stats .metric-label {
        letter-spacing: 0.12em;
        font-size: 0.63rem;
      }

      .section-services .services-stack {
        gap: 0.95rem;
      }

      .feature-card,
      .feature-subcard,
      .hours-card {
        border-radius: 1.3rem !important;
        padding: 1.2rem !important;
      }

      .feature-card h3 {
        font-size: clamp(1.7rem, 8.2vw, 2.3rem);
        margin-bottom: 0.65rem;
      }

      .feature-card p {
        font-size: 1rem !important;
        margin-bottom: 1.15rem !important;
      }

      .feature-card ul {
        gap: 0.75rem;
      }

      .feature-card ul strong {
        font-size: 1rem !important;
      }

      .feature-card .feature-visual {
        min-height: 11rem;
      }

      .feature-card svg {
        width: 5rem;
        height: 5rem;
      }

      .mini-feature-grid {
        gap: 0.95rem;
      }

      .feature-subcard h3 {
        font-size: clamp(1.55rem, 7.3vw, 2rem);
        margin-bottom: 0.65rem;
      }

      .feature-subcard p {
        font-size: 0.97rem;
        margin-bottom: 1rem;
      }

      .feature-subcard ul {
        gap: 0.6rem;
        font-size: 0.95rem;
      }

      .section-map-mobile {
        display: block;
      }

      .section-contact .contact-phone-primary {
        font-size: clamp(2rem, 11vw, 2.5rem);
        line-height: 1.02;
      }

      .section-contact .contact-phone-secondary {
        font-size: clamp(1.42rem, 8vw, 1.85rem);
        line-height: 1.05;
      }

      .section-contact .schedule-row {
        padding-bottom: 0.88rem;
      }

      .section-contact .schedule-row span:last-child {
        font-size: 0.94rem;
      }

      .section-contact .hours-card h3 {
        margin-bottom: 1.35rem;
      }

      .mobile-cta-bar {
        position: fixed;
        left: 0.75rem;
        right: 0.75rem;
        bottom: calc(0.55rem + env(safe-area-inset-bottom));
        z-index: 70;
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.45rem;
        padding: 0.5rem;
        border-radius: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(4, 24, 22, 0.9);
        backdrop-filter: blur(14px);
        box-shadow: 0 16px 34px rgba(2, 10, 9, 0.5);
        transition: transform 300ms var(--motion-spring), opacity 240ms var(--motion-out);
      }

      .mobile-cta-link {
        min-height: 2.95rem;
        border-radius: 0.72rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.07);
        color: #f0fdfa;
        font-size: 0.74rem;
        font-weight: 700;
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }

      .mobile-cta-link.cta-primary {
        background: #f0fdfa;
        color: #052e2a;
      }

      body.is-overlay-open .mobile-cta-bar {
        transform: translate3d(0, 120%, 0);
        opacity: 0;
        pointer-events: none;
      }

      .footer-shell {
        padding-bottom: calc(3.4rem + env(safe-area-inset-bottom));
      }

      .motion-card::after,
      .motion-card::before,
      .motion-button::before {
        display: none;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      html:focus-within { scroll-behavior: auto; }
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .reveal {
        opacity: 1 !important;
        filter: blur(0) !important;
        transform: none !important;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%) !important;
      }
      #scroll-progress,
      .motion-button::before,
      .motion-card::after,
      .motion-card::before,
      .schedule-row::after {
        display: none !important;
      }
    }
  </style>
</head>
<body class="font-sans text-brand-950 antialiased overflow-x-hidden selection:bg-brand-900 selection:text-white">

  <!-- Navigation -->
  <nav class="fixed top-0 inset-x-0 z-50 relative border-b border-white/5 bg-brand-dark/60 backdrop-blur-xl" id="navbar">
    <div class="nav-shell max-w-[90rem] mx-auto px-6 h-20 flex items-center justify-between">
      <a href="#" class="nav-brand text-xl md:text-2xl font-serif text-white flex items-center gap-3">
        <div class="nav-brand-logo w-8 h-8 md:w-10 md:h-10 bg-white text-brand-950 rounded-full flex items-center justify-center text-xs md:text-sm font-bold tracking-tighter">RL</div>
        <span class="nav-brand-wordmark">Dr. Ruth Lechner</span>
      </a>
      
      <div class="hidden md:flex gap-8 items-center text-sm font-medium text-white/80">
        <a href="#ansatz" class="hover:text-white transition motion-link">Unser Ansatz</a>
        <a href="#leistungen" class="hover:text-white transition motion-link">Leistungen</a>
        <a href="#kontakt" class="hover:text-white transition motion-link">Kontakt</a>
        <a href="tel:+436643061010" class="ml-4 bg-white text-brand-950 px-6 py-3 rounded-full hover:bg-brand-50 transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] motion-button">Termin vereinbaren</a>
      </div>

      <button id="mobile-menu-button" class="nav-toggle md:hidden text-white p-2" onclick="toggleMobileMenu()" aria-label="Menü öffnen" aria-controls="mobile-menu" aria-expanded="false">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
      </button>
    </div>
    <div id="scroll-progress" class="absolute bottom-0 left-0 h-[2px] w-full bg-gradient-to-r from-emerald-400/10 via-emerald-300/90 to-emerald-400/10 scale-x-0"></div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="fixed inset-0 z-[60] bg-brand-dark/95 backdrop-blur-3xl flex flex-col items-center justify-center gap-8 text-2xl font-serif text-white" aria-hidden="true">
    <button onclick="toggleMobileMenu()" class="absolute top-6 right-6 p-4 motion-button" data-menu-item>
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>
    <a href="#ansatz" onclick="toggleMobileMenu()" class="hover:text-emerald-400 motion-link" data-menu-item>Unser Ansatz</a>
    <a href="#leistungen" onclick="toggleMobileMenu()" class="hover:text-emerald-400 motion-link" data-menu-item>Leistungen</a>
    <a href="#kontakt" onclick="toggleMobileMenu()" class="hover:text-emerald-400 motion-link" data-menu-item>Kontakt & Anfahrt</a>
    <a href="tel:+436643061010" onclick="toggleMobileMenu()" class="mobile-menu-call mt-4 bg-white text-brand-950 px-8 py-4 rounded-full font-sans text-lg font-bold motion-button" data-menu-item>Jetzt anrufen</a>
  </div>

  <div class="mobile-cta-bar md:hidden" aria-label="Schnellaktionen">
    <a href="tel:+436643061010" class="mobile-cta-link cta-primary">Anrufen</a>
    <a href="https://www.google.com/maps/search/?api=1&query=Dr.+Arthur+Lemisch+Stra%C3%9Fe+9%2F1%2C+9560+Feldkirchen%2C+%C3%96sterreich" target="_blank" rel="noopener" class="mobile-cta-link">Route</a>
    <a href="#kontakt" class="mobile-cta-link">Zeiten</a>
  </div>

  <!-- Hero Section -->
  <section class="hero-section relative min-h-[100svh] flex items-center justify-center overflow-hidden bg-brand-dark text-white pt-20">
    <!-- Abstract gradient glow -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-brand-800/40 rounded-full blur-[120px] mix-blend-screen pointer-events-none hero-aura"></div>
    <div class="absolute inset-0 bg-noise pointer-events-none"></div>
    
    <div class="absolute inset-0 z-0 opacity-20 mix-blend-luminosity">
       <img src="https://www.inneremedizin-lechner.at/uploads/RGN9jdbZ/768x0_640x0/AdobeStock_562280510-T.jpg" class="w-full h-full object-cover hero-image" alt="Praxis Hintergrund">
    </div>
    
    <div class="hero-content relative z-10 w-full max-w-[90rem] mx-auto px-6 text-center reveal active flex flex-col items-center">
      <div class="hero-badge inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-md mb-8">
        <span class="w-2 h-2 rounded-full bg-emerald-400 pulse-dot"></span>
        <span class="text-xs font-semibold uppercase tracking-widest text-white/80">Zusatzfach Geriatrie</span>
      </div>
      
      <h1 class="hero-title text-5xl md:text-8xl lg:text-[8rem] font-serif leading-[0.9] tracking-tight mb-8">
        Innere Medizin.<br>
        <span class="text-emerald-300/80 italic">Neu gedacht.</span>
      </h1>
      
      <p class="hero-subtitle text-xl md:text-3xl font-light text-white/60 max-w-3xl mx-auto mb-12">
        Ihre Gesundheit und Ihr Wohlergehen stehen im Mittelpunkt – mit Zeit für Patient:innen und modernster Diagnostik.
      </p>
      
      <div class="hero-actions flex flex-col sm:flex-row items-center justify-center gap-6 w-full sm:w-auto">
        <a href="tel:+436643061010" class="w-full sm:w-auto bg-white text-brand-950 px-10 py-5 rounded-full font-bold text-lg hover:bg-emerald-50 transition-all flex items-center justify-center gap-3 motion-button">
          Termin vereinbaren
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
        </a>
        <div class="hero-billing text-left flex flex-col">
          <span class="text-white/50 text-sm font-medium uppercase tracking-wider">Abrechnung</span>
          <span class="text-white font-serif text-xl">Alle Kassen & Privat</span>
        </div>
      </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="hero-scroll-cue absolute bottom-10 left-1/2 text-white/30 scroll-cue">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
    </div>
  </section>

  <!-- Marquee Banner -->
  <div class="overflow-hidden whitespace-nowrap bg-emerald-950 py-4 border-y border-white/5 flex items-center relative z-20 marquee-shell">
    <div class="animate-marquee inline-block text-emerald-400/60 text-sm md:text-base font-medium uppercase tracking-[0.2em]">
       <span class="mx-8">• PALLIATIVMEDIZIN</span>
       <span class="mx-8">• AKUPUNKTUR</span>
       <span class="mx-8">• INNERE MEDIZIN</span>
       <span class="mx-8">• DIAGNOSTIK</span>
       <span class="mx-8">• VORSORGE</span>
       <span class="mx-8">• GERIATRIE</span>
       <!-- Duplicate for seamless loop -->
       <span class="mx-8">• PALLIATIVMEDIZIN</span>
       <span class="mx-8">• AKUPUNKTUR</span>
       <span class="mx-8">• INNERE MEDIZIN</span>
       <span class="mx-8">• DIAGNOSTIK</span>
       <span class="mx-8">• VORSORGE</span>
       <span class="mx-8">• GERIATRIE</span>
       <span class="mx-8">• PALLIATIVMEDIZIN</span>
       <span class="mx-8">• AKUPUNKTUR</span>
    </div>
  </div>

  <!-- Intro / Approach Section -->
  <section class="section-approach py-24 md:py-40 bg-[#f8faf9] text-brand-dark" id="ansatz">
    <div class="max-w-[90rem] mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-20 items-center">
        <div class="reveal" data-reveal-axis="x">
          <h2 class="text-4xl md:text-6xl lg:text-7xl font-serif leading-[1.1] mb-8">
            Ein ganzheitlicher <br><span class="text-emerald-800 italic">Blick auf Sie.</span>
          </h2>
          <p class="text-lg md:text-xl text-brand-900/70 leading-relaxed mb-10">
            Innere Medizin umfasst hochkomplexe Organsysteme wie Herz-Kreislauf, Lunge, Verdauung und Stoffwechsel. Anstatt nur Symptome zu behandeln, nehmen wir Ihre Beschwerden systematisch auf und planen die nächsten Schritte nachvollziehbar.
          </p>
          
          <div class="space-y-6">
            <div class="flex gap-4 border-l-2 border-brand-900/20 pl-6">
              <div>
                <h3 class="text-xl font-bold mb-2">Verständliche Befunde</h3>
                <p class="text-brand-900/60 leading-relaxed">Kein Fachjargon. Wir erklären Ergebnisse in klarer Sprache, ordnen sie ein und besprechen gemeinsam, welche nächsten Schritte sinnvoll sind.</p>
              </div>
            </div>
            <div class="flex gap-4 border-l-2 border-brand-900/20 pl-6">
              <div>
                <h3 class="text-xl font-bold mb-2">Medizin im höheren Lebensalter</h3>
                <p class="text-brand-900/60 leading-relaxed">Durch das Zusatzfach Geriatrie liegt ein spezieller Fokus auf Funktion, Alltagstauglichkeit und einer sorgfältig abgestimmten Therapieplanung.</p>
              </div>
            </div>
          </div>
        </div>
        
        <div class="relative reveal">
          <div class="aspect-[4/5] rounded-[2rem] overflow-hidden">
             <img src="https://www.inneremedizin-lechner.at/uploads/51lCwt24/320x0_480x0/Portrait_fr_Ordination2.webp" class="w-full h-full object-cover scale-[1.08] hover:scale-100 transition-transform duration-[1400ms] ease-[cubic-bezier(0.16,1,0.3,1)]" alt="Dr. Ruth Lechner">
          </div>
          <!-- Floating Badge -->
          <div class="absolute -bottom-8 -left-8 md:-left-12 bg-white p-6 md:p-8 rounded-[2rem] shadow-2xl border border-gray-100 max-w-[280px] animate-float hidden sm:block">
             <div class="text-4xl font-serif text-brand-950 mb-2">Dr. med.</div>
             <div class="text-lg font-bold text-brand-900">Ruth Lechner</div>
             <p class="text-sm text-brand-900/60 mt-2">Fachärztin für Innere Medizin</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Big Numbers Section -->
  <section class="section-stats py-20 bg-white border-y border-gray-100">
    <div class="max-w-[90rem] mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-12 text-center reveal">
       <div>
          <p class="metric-value text-5xl md:text-7xl font-serif text-brand-950 mb-4">Alle</p>
          <p class="metric-label text-xs md:text-sm font-bold text-gray-500 uppercase tracking-[0.2em]">Kassen & Privat</p>
       </div>
       <div>
          <p class="metric-value text-5xl md:text-7xl font-serif text-brand-950 mb-4" data-count-value="3">3</p>
          <p class="metric-label text-xs md:text-sm font-bold text-gray-500 uppercase tracking-[0.2em]">Spezialdiplome</p>
       </div>
       <div>
          <p class="metric-value text-5xl md:text-7xl font-serif text-brand-950 mb-4" data-count-value="5">5</p>
          <p class="metric-label text-xs md:text-sm font-bold text-gray-500 uppercase tracking-[0.2em]">Tage geöffnet</p>
       </div>
       <div>
          <p class="metric-value text-5xl md:text-7xl font-serif text-emerald-800 mb-4"><span data-count-value="100">100</span><span class="text-4xl">%</span></p>
          <p class="metric-label text-xs md:text-sm font-bold text-gray-500 uppercase tracking-[0.2em]">Fokus auf Sie</p>
       </div>
    </div>
  </section>

  <!-- Services / Features Section -->
  <section class="section-services py-24 md:py-40 bg-brand-dark text-white relative overflow-hidden" id="leistungen">
    <!-- Background Decor -->
    <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-emerald-900/20 rounded-full blur-[100px] pointer-events-none"></div>

    <div class="max-w-[90rem] mx-auto px-6 relative z-10">
      <div class="mb-24 reveal">
        <h2 class="text-5xl md:text-8xl font-serif mb-8 tracking-tight">Präzise Diagnostik.<br><span class="text-white/40">Sicher entscheiden.</span></h2>
        <p class="text-xl md:text-2xl text-white/60 max-w-3xl font-light">Diagnostik und Vorsorge sind die Grundbausteine einer guten internistischen Betreuung. Wir setzen auf moderne Technologie und verständliche Erklärungen.</p>
      </div>

      <div class="services-stack space-y-6 md:space-y-10">
        <!-- Feature 1 -->
        <div class="feature-card bg-white/5 backdrop-blur-sm border border-white/10 rounded-[2rem] p-8 md:p-16 flex flex-col lg:flex-row gap-12 lg:gap-24 items-center reveal group hover:bg-white/10 transition-colors duration-500 motion-card" data-tilt>
          <div class="lg:w-1/2">
             <div class="inline-block px-4 py-2 bg-emerald-900/50 rounded-full text-xs font-bold uppercase tracking-widest text-emerald-300 mb-8">Bildgebung</div>
             <h3 class="text-4xl md:text-5xl font-serif mb-6">Ultraschall</h3>
             <p class="text-lg md:text-xl text-white/70 mb-10 font-light">Schonende Bildgebung zur Beurteilung von Organen, Gefäßen und Herz. Absolut nicht-invasiv, schmerzfrei und ohne Strahlenbelastung.</p>
             <ul class="space-y-4">
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">Ober- und Unterbauch</strong> <span class="text-white/50">Leber, Gallenblase, Nieren, Blase</span></div></li>
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">Schilddrüse & Halsgefäße</strong> <span class="text-white/50">Knoten, Volumen, Durchblutung</span></div></li>
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">Echokardiographie</strong> <span class="text-white/50">Detaillierte Herzstruktur und -funktion</span></div></li>
             </ul>
          </div>
          <div class="feature-visual lg:w-1/2 w-full aspect-square md:aspect-[4/3] rounded-[2rem] bg-gradient-to-br from-white/10 to-transparent border border-white/5 relative overflow-hidden flex items-center justify-center">
             <svg class="w-40 h-40 text-white/10 group-hover:scale-110 transition-transform duration-700 group-hover:text-emerald-400/20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>
          </div>
        </div>

        <!-- Feature 2 -->
        <div class="feature-card bg-white/5 backdrop-blur-sm border border-white/10 rounded-[2rem] p-8 md:p-16 flex flex-col lg:flex-row-reverse gap-12 lg:gap-24 items-center reveal group hover:bg-white/10 transition-colors duration-500 motion-card" data-tilt>
          <div class="lg:w-1/2">
             <div class="inline-block px-4 py-2 bg-emerald-900/50 rounded-full text-xs font-bold uppercase tracking-widest text-emerald-300 mb-8">Herz-Kreislauf</div>
             <h3 class="text-4xl md:text-5xl font-serif mb-6">EKG & Blutdruck</h3>
             <p class="text-lg md:text-xl text-white/70 mb-10 font-light">Umfassende Herzdiagnostik vom einfachen Ruhe-EKG bis hin zur 24-Stunden-Messung zur präzisen Erfassung im Alltag.</p>
             <ul class="space-y-4">
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">Ruhe- & Belastungs-EKG</strong> <span class="text-white/50">Aktivität in Ruhe und unter Kontrolle</span></div></li>
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">24-Stunden-EKG</strong> <span class="text-white/50">Aufzeichnung bei sporadischen Beschwerden</span></div></li>
               <li class="flex items-start gap-4"><div class="mt-1 w-2 h-2 rounded-full bg-emerald-400"></div> <div><strong class="block text-white text-lg">24h-Blutdruckmessung</strong> <span class="text-white/50">Tages- und Nachtprofil-Erstellung</span></div></li>
             </ul>
          </div>
          <div class="feature-visual lg:w-1/2 w-full aspect-square md:aspect-[4/3] rounded-[2rem] bg-gradient-to-bl from-white/10 to-transparent border border-white/5 relative overflow-hidden flex items-center justify-center">
             <svg class="w-40 h-40 text-white/10 group-hover:scale-110 transition-transform duration-700 group-hover:text-emerald-400/20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="0.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
          </div>
        </div>

        <!-- Mini Grid for 3 & 4 -->
        <div class="mini-feature-grid grid lg:grid-cols-2 gap-6 md:gap-10">
            <div class="feature-subcard bg-white text-brand-950 rounded-[2rem] p-8 md:p-16 reveal group motion-card" data-tilt>
               <div class="inline-block px-4 py-2 border border-brand-900/20 rounded-full text-xs font-bold uppercase tracking-widest text-brand-900 mb-8">Gesundheit</div>
               <h3 class="text-3xl md:text-4xl font-serif mb-6">Vorsorgeuntersuchung</h3>
               <p class="text-lg text-brand-900/70 mb-10">Individuelle Planung statt Standardprogramm. (Einmal jährlich kostenlos möglich für Versicherte ab 18). Wir besprechen Risikofaktoren und erstellen einen Plan.</p>
               <ul class="space-y-4 font-medium text-brand-950">
                 <li class="flex items-center gap-4"><span class="text-emerald-600/50 text-xl font-serif">1</span> Gespräch & Anamnese</li>
                 <li class="flex items-center gap-4"><span class="text-emerald-600/50 text-xl font-serif">2</span> Untersuchung & Messwerte</li>
                 <li class="flex items-center gap-4"><span class="text-emerald-600/50 text-xl font-serif">3</span> Befundbesprechung & Plan</li>
               </ul>
            </div>
            <div class="feature-subcard bg-emerald-800 text-white rounded-[2rem] p-8 md:p-16 reveal group motion-card" data-tilt>
               <div class="inline-block px-4 py-2 bg-white/10 border border-white/20 rounded-full text-xs font-bold uppercase tracking-widest text-white mb-8">Sicherheit</div>
               <h3 class="text-3xl md:text-4xl font-serif mb-6">OP‑Tauglichkeit</h3>
               <p class="text-lg text-white/70 mb-10">Strukturierte Voruntersuchung zur Risikominimierung mit schriftlichem Befund für Operateur:in und Anästhesie.</p>
               <ul class="space-y-4 font-medium">
                 <li class="flex items-center gap-4"><span class="text-emerald-400">✓</span> Körperliche Untersuchung</li>
                 <li class="flex items-center gap-4"><span class="text-emerald-400">✓</span> Blutbefund & Ruhe-EKG</li>
                 <li class="flex items-center gap-4"><span class="text-emerald-400">✓</span> Lungenröntgen (falls nötig)</li>
               </ul>
            </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section-map-mobile md:hidden bg-[#021714] text-white py-14">
    <div class="max-w-[90rem] mx-auto px-6">
      <div class="rounded-[1.4rem] border border-white/10 bg-white/[0.04] backdrop-blur-sm p-6 space-y-5">
        <p class="text-xs font-bold uppercase tracking-[0.22em] text-emerald-300/90">Anfahrt</p>
        <h2 class="text-3xl font-serif leading-[1.05]">Schnell zur Ordination.</h2>
        <p class="text-white/75 text-sm leading-relaxed">Dr. Arthur Lemisch Straße 9/1, 9560 Feldkirchen. Die Route ist mit einem Tipp in Google Maps geöffnet.</p>
        <div class="flex flex-col gap-3">
          <a href="https://www.google.com/maps/search/?api=1&query=Dr.+Arthur+Lemisch+Stra%C3%9Fe+9%2F1%2C+9560+Feldkirchen%2C+%C3%96sterreich" target="_blank" rel="noopener" class="inline-flex items-center justify-center gap-3 bg-white text-brand-950 px-4 py-3 rounded-full font-semibold motion-button">
            Route starten
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
          </a>
          <a href="tel:+436643061010" class="inline-flex items-center justify-center gap-3 border border-white/20 text-white px-4 py-3 rounded-full font-semibold motion-button">
            Termin telefonisch vereinbaren
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- 3D Map Scroll Section -->
  <section class="hidden md:block bg-[#021714] text-white" id="anfahrt-3d">
    <div data-map-scroll-section class="relative h-[220vh]">
      <div class="sticky top-0 h-screen overflow-hidden">
        <div id="google-map-3d" class="absolute inset-0" aria-label="3D Karte der Ordination in Feldkirchen"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_15%_20%,rgba(16,185,129,0.25),transparent_45%),linear-gradient(180deg,rgba(2,23,20,0.05)_0%,rgba(2,23,20,0.8)_86%)] pointer-events-none"></div>

        <div class="relative z-10 h-full max-w-[90rem] mx-auto px-6 py-14 md:py-24 flex flex-col justify-between pointer-events-none">
          <div class="max-w-3xl reveal active">
            <p class="text-xs md:text-sm font-bold uppercase tracking-[0.25em] text-emerald-300/90 mb-5">Anfahrt in 3D</p>
            <h2 class="text-4xl md:text-7xl font-serif leading-[0.95] mb-6">Von Kärnten direkt<br>zur Ordination.</h2>
            <p class="text-base md:text-xl text-white/75 font-light">Beim Scrollen fährt die Kamera präzise in die Dr. Arthur Lemisch Straße 9/1 in Feldkirchen.</p>
          </div>

          <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-6">
            <p id="map-scroll-label" class="text-white/85 text-base md:text-lg font-medium">Start: Kärnten im Überblick</p>
            <a href="https://www.google.com/maps/search/?api=1&query=Dr.+Arthur+Lemisch+Stra%C3%9Fe+9%2F1%2C+9560+Feldkirchen%2C+%C3%96sterreich" target="_blank" rel="noopener" class="pointer-events-auto inline-flex items-center justify-center gap-3 bg-white text-brand-950 px-6 py-3 rounded-full font-semibold hover:bg-emerald-50 transition motion-button">
              Route starten
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
            </a>
          </div>
        </div>

        <div id="map-load-fallback" class="absolute inset-0 z-20 hidden items-center justify-center text-center px-6 bg-brand-dark/80 backdrop-blur-sm">
          <p class="max-w-xl text-white/80">3D-Karte konnte nicht geladen werden.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Location / Action Section -->
  <section class="section-contact py-24 md:py-40 bg-[#f8faf9]" id="kontakt">
    <div class="max-w-[90rem] mx-auto px-6 reveal">
      
      <div class="contact-layout flex flex-col lg:flex-row gap-16 lg:gap-32">
        <div class="lg:w-1/2">
          <h2 class="text-5xl md:text-7xl font-serif text-brand-dark mb-8 leading-tight">Ihre Ordination <br>in Feldkirchen.</h2>
          <p class="text-xl md:text-2xl text-brand-900/60 font-light mb-12">Bitte kontaktieren Sie uns telefonisch für einen Termin. Wir sorgen dafür, dass für Ihr Anliegen ausreichend Zeit eingeplant wird.</p>
          
          <div class="space-y-8">
            <div class="contact-block">
              <p class="text-sm font-bold uppercase tracking-widest text-emerald-800 mb-4">Telefon</p>
              <a href="tel:+436643061010" class="contact-phone-primary inline-block text-4xl md:text-5xl font-serif text-brand-950 hover:text-emerald-600 transition mb-2 motion-link">+43 664 306 10 10</a>
              <a href="tel:+4342767225" class="contact-phone-secondary inline-block text-2xl font-serif text-brand-900/60 hover:text-emerald-600 transition motion-link">+43 4276 7225</a>
            </div>
            
            <div class="pt-8 border-t border-brand-900/10 contact-block">
              <p class="text-sm font-bold uppercase tracking-widest text-emerald-800 mb-4">Standort</p>
              <p class="text-xl md:text-2xl text-brand-950 font-light leading-relaxed mb-6">
                Dr. Arthur Lemisch Straße 9/1<br>
                9560 Feldkirchen<br>
                Österreich
              </p>
              <a href="https://www.google.com/maps/search/?api=1&query=Dr.+Arthur+Lemisch+Stra%C3%9Fe+9%2F1%2C+9560+Feldkirchen%2C+%C3%96sterreich" target="_blank" rel="noopener" class="inline-flex items-center gap-3 text-brand-950 font-bold hover:text-emerald-600 transition border border-brand-900/20 rounded-full px-6 py-3 motion-button">
                Auf Google Maps öffnen
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
              </a>
            </div>
          </div>
        </div>

        <div class="lg:w-1/2">
          <div class="hours-card bg-white p-10 md:p-16 rounded-[2rem] shadow-[0_20px_60px_rgba(13,75,69,0.05)] border border-brand-900/5 motion-card" data-tilt>
             <h3 class="text-3xl font-serif text-brand-950 mb-10">Öffnungszeiten</h3>
             
             <ul class="space-y-6 text-lg">
                <li class="flex justify-between items-center border-b border-gray-100 pb-4 schedule-row">
                  <span class="font-medium text-brand-950">Montag</span> 
                  <span class="text-brand-900/60">07:30 – 13:00</span>
                </li>
                <li class="flex justify-between items-center border-b border-gray-100 pb-4 schedule-row">
                  <span class="font-medium text-brand-950">Dienstag</span> 
                  <span class="text-brand-900/60">07:30 – 13:00</span>
                </li>
                <li class="flex justify-between items-center border-b border-gray-100 pb-4 schedule-row">
                  <span class="font-medium text-brand-950">Mittwoch</span> 
                  <span class="font-bold text-emerald-800">14:00 – 18:00</span>
                </li>
                <li class="flex justify-between items-center border-b border-gray-100 pb-4 schedule-row">
                  <span class="font-medium text-brand-950">Donnerstag</span> 
                  <span class="text-brand-900/60">07:30 – 13:00</span>
                </li>
                <li class="flex justify-between items-center schedule-row">
                  <span class="font-medium text-brand-950">Freitag</span> 
                  <span class="text-brand-900/60">07:30 – 09:00</span>
                </li>
             </ul>

             <div class="mt-12 p-6 bg-[#f8faf9] rounded-2xl border border-brand-900/5">
                <p class="text-sm text-brand-900/60 leading-relaxed"><strong>Hinweis:</strong> Für akute Beschwerden außerhalb der Ordinationszeiten wenden Sie sich bitte an den ärztlichen Bereitschaftsdienst oder die nächstgelegene Versorgungseinrichtung.</p>
             </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black text-white/50 py-12 md:py-20 border-t border-white/10 footer-shell">
    <div class="max-w-[90rem] mx-auto px-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-10 reveal">
       <div>
         <a href="#" class="text-2xl font-serif text-white mb-6 inline-block">Ordination Dr. Ruth Lechner</a>
         <p class="text-sm">© 2026 Alle Rechte vorbehalten.<br>Innere Medizin & Geriatrie. Alle Kassen und Privat.</p>
       </div>
       <div class="flex flex-col sm:flex-row gap-6 sm:gap-12">
          <button onclick="openModal('impressum')" class="text-left hover:text-white transition uppercase tracking-widest text-xs font-bold motion-link">Impressum</button>
          <button onclick="openModal('datenschutz')" class="text-left hover:text-white transition uppercase tracking-widest text-xs font-bold motion-link">Datenschutz</button>
       </div>
    </div>
  </footer>

  <!-- Modal System -->
  <div id="modal-container" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 sm:p-6">
    <div id="modal-backdrop" class="absolute inset-0 bg-brand-dark/80 backdrop-blur-md transition-opacity opacity-0" onclick="closeModal()"></div>
    
    <div id="modal-content" class="relative bg-white text-brand-950 rounded-[2rem] shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-y-auto transform scale-95 opacity-0 transition-all duration-700">
       <!-- Content injected via JS -->
    </div>
  </div>

  <script>
    const MAPS_API_KEY = window.GOOGLE_MAPS_API_KEY || 'AIzaSyClbcjrhJaF0Od7Chbrk4QqRvqSY2lgPsU';
    const PRACTICE_COORDS = { lat: 46.7252095, lng: 14.0922457 };
    const MAP_SCROLL_EASE_FACTOR = 0.18;
    const MAP_SCROLL_SNAP_DISTANCE = 0.0012;
    const MAP_PRELOAD_ROOT_MARGIN = '1300px 0px';
    const MAP_CAMERA_KEYFRAMES = [
      { at: 0, lat: 46.8895, lng: 13.915, zoom: 8.7, tilt: 0, heading: 0 },
      { at: 0.6, lat: 46.7535, lng: 14.0485, zoom: 13.4, tilt: 42, heading: 22 },
      { at: 1, lat: PRACTICE_COORDS.lat, lng: PRACTICE_COORDS.lng, zoom: 19.3, tilt: 67.5, heading: 37 }
    ];
    const mapScrollState = {
      map: null,
      section: null,
      label: null,
      fallback: null,
      scrollFrame: 0,
      renderFrame: 0,
      targetProgress: 0,
      renderedProgress: 0,
      scriptRequested: false,
      warmupQueued: false,
      mapRequested: false,
      tilesPrimed: false,
      reducedMotion: false,
      preloadObserver: null,
      labelText: '',
      labelSwapTimer: 0,
      experienceInitialized: false
    };

    const MOTION_PREFERS_REDUCED = window.matchMedia('(prefers-reduced-motion: reduce)');
    const MOBILE_VIEWPORT = window.matchMedia('(max-width: 767px)');
    const modalState = {
      closeTimer: 0
    };
    let lenis;

    document.addEventListener("DOMContentLoaded", () => {
      // Initialize Lenis for butter-smooth scrolling
      if (!MOTION_PREFERS_REDUCED.matches && !MOBILE_VIEWPORT.matches && typeof Lenis !== 'undefined') {
        lenis = new Lenis({
          duration: 1.4,
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
          orientation: 'vertical',
          gestureOrientation: 'vertical',
          smoothWheel: true,
          wheelMultiplier: 1.1,
          touchMultiplier: 2
        });

        const raf = (time) => {
          lenis.raf(time);
          requestAnimationFrame(raf);
        };
        requestAnimationFrame(raf);
      }

      initAnchorNavigation();
      initRevealAnimations();
      initCountAnimations();
      initInteractiveCards();
      updateNavChrome();
      initMapScrollExperience();
      document.addEventListener('keydown', handleGlobalKeydown);
    });

    window.addEventListener('scroll', updateNavChrome, { passive: true });
    window.addEventListener('resize', handleResponsiveResize);

    function getAnchorOffset() {
      const nav = document.getElementById('navbar');
      const navHeight = nav ? nav.getBoundingClientRect().height : 80;
      return -(navHeight + 12);
    }

    function initAnchorNavigation() {
      const anchors = Array.from(document.querySelectorAll('a[href^="#"]'));
      anchors.forEach((anchor) => {
        anchor.addEventListener('click', function onAnchorClick(event) {
          const targetId = this.getAttribute('href');
          if (!targetId || targetId === '#') {
            return;
          }

          const targetElement = document.querySelector(targetId);
          if (!targetElement) {
            return;
          }

          event.preventDefault();
          const offset = getAnchorOffset();

          if (lenis) {
            lenis.scrollTo(targetElement, { offset });
            return;
          }

          const targetTop = targetElement.getBoundingClientRect().top + window.scrollY + offset;
          window.scrollTo({
            top: targetTop,
            behavior: MOTION_PREFERS_REDUCED.matches ? 'auto' : 'smooth'
          });
        });
      });
    }

    function handleResponsiveResize() {
      updateNavChrome();

      const menu = document.getElementById('mobile-menu');
      if (menu && menu.classList.contains('is-open') && !MOBILE_VIEWPORT.matches) {
        toggleMobileMenu(false);
      }

      if (!MOBILE_VIEWPORT.matches) {
        initMapScrollExperience();
      }
    }

    function initRevealAnimations() {
      const revealNodes = Array.from(document.querySelectorAll('.reveal'));
      const revealOrderByScope = new Map();

      revealNodes.forEach((node) => {
        if (node.classList.contains('active')) {
          node.style.setProperty('--reveal-order', '0');
          return;
        }

        const scope = node.closest('section, footer') || node.parentElement;
        const nextOrder = revealOrderByScope.get(scope) || 0;
        node.style.setProperty('--reveal-order', String(nextOrder));
        revealOrderByScope.set(scope, nextOrder + 1);
      });

      const observer = new IntersectionObserver((entries, currentObserver) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) {
            return;
          }

          entry.target.classList.add('active');
          currentObserver.unobserve(entry.target);
        });
      }, { root: null, rootMargin: '0px 0px -8% 0px', threshold: 0.18 });

      revealNodes.forEach((node) => {
        if (!node.classList.contains('active')) {
          observer.observe(node);
        }
      });
    }

    function initCountAnimations() {
      const counters = Array.from(document.querySelectorAll('[data-count-value]'));
      if (!counters.length) {
        return;
      }

      const animateCounter = (element) => {
        const targetValue = Number(element.dataset.countValue || '0');
        if (!Number.isFinite(targetValue)) {
          return;
        }

        if (MOTION_PREFERS_REDUCED.matches) {
          element.textContent = String(targetValue);
          return;
        }

        const startingValue = targetValue > 20 ? Math.round(targetValue * 0.2) : 0;
        const duration = clamp(900 + targetValue * 12, 1000, 1900);
        const startAt = performance.now();

        const step = (now) => {
          const elapsed = now - startAt;
          const progress = clamp(elapsed / duration, 0, 1);
          const eased = 1 - Math.pow(1 - progress, 3);
          const currentValue = Math.round(lerp(startingValue, targetValue, eased));
          element.textContent = String(currentValue);

          if (progress < 1) {
            requestAnimationFrame(step);
          }
        };

        requestAnimationFrame(step);
      };

      const counterObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) {
            return;
          }

          animateCounter(entry.target);
          observer.unobserve(entry.target);
        });
      }, { threshold: 0.55 });

      counters.forEach((counter) => counterObserver.observe(counter));
    }

    function initInteractiveCards() {
      if (MOTION_PREFERS_REDUCED.matches || window.matchMedia('(hover: none), (max-width: 1023px)').matches) {
        return;
      }

      const tiltCards = Array.from(document.querySelectorAll('.motion-card[data-tilt]'));
      tiltCards.forEach((card) => {
        let frame = 0;
        let targetRx = 0;
        let targetRy = 0;
        let currentRx = 0;
        let currentRy = 0;
        let targetX = 0;
        let targetY = 0;
        let currentX = 0;
        let currentY = 0;

        const render = () => {
          frame = 0;
          currentRx = lerp(currentRx, targetRx, 0.08);
          currentRy = lerp(currentRy, targetRy, 0.08);
          currentX = lerp(currentX, targetX, 0.08);
          currentY = lerp(currentY, targetY, 0.08);

          card.style.setProperty('--card-tilt-x', `${currentRx.toFixed(2)}deg`);
          card.style.setProperty('--card-tilt-y', `${currentRy.toFixed(2)}deg`);
          card.style.setProperty('--card-offset-x', `${currentX.toFixed(2)}px`);
          card.style.setProperty('--card-offset-y', `${currentY.toFixed(2)}px`);

          if (
            Math.abs(currentRx - targetRx) > 0.05 ||
            Math.abs(currentRy - targetRy) > 0.05 ||
            Math.abs(currentX - targetX) > 0.05 ||
            Math.abs(currentY - targetY) > 0.05
          ) {
            frame = requestAnimationFrame(render);
          }
        };

        const queueRender = () => {
          if (!frame) {
            frame = requestAnimationFrame(render);
          }
        };

        card.addEventListener('pointermove', (event) => {
          if (event.pointerType && event.pointerType !== 'mouse') {
            return;
          }
          const rect = card.getBoundingClientRect();
          const relativeX = ((event.clientX - rect.left) / rect.width) * 2 - 1;
          const relativeY = ((event.clientY - rect.top) / rect.height) * 2 - 1;
          targetRx = clamp(-relativeY * 5.5, -5.5, 5.5);
          targetRy = clamp(relativeX * 7.5, -7.5, 7.5);
          targetX = clamp(relativeX * 5, -5, 5);
          targetY = clamp(relativeY * 4, -4, 4);
          queueRender();
        });

        card.addEventListener('pointerleave', () => {
          targetRx = 0;
          targetRy = 0;
          targetX = 0;
          targetY = 0;
          queueRender();
        });
      });
    }

    function updateNavChrome() {
      const nav = document.getElementById('navbar');
      if (!nav) {
        return;
      }

      const scrollTop = window.scrollY || window.pageYOffset;
      if (scrollTop > 48) {
        nav.classList.add('shadow-lg', 'bg-brand-dark/90', 'nav-scrolled');
        nav.classList.remove('bg-brand-dark/60');
      } else {
        nav.classList.remove('shadow-lg', 'bg-brand-dark/90', 'nav-scrolled');
        nav.classList.add('bg-brand-dark/60');
      }

      const progressBar = document.getElementById('scroll-progress');
      if (!progressBar) {
        return;
      }

      const scrollMax = document.documentElement.scrollHeight - window.innerHeight;
      const ratio = scrollMax <= 0 ? 0 : clamp(scrollTop / scrollMax, 0, 1);
      progressBar.style.transform = `scaleX(${ratio})`;
    }

    function syncBodyLock() {
      const modalContainer = document.getElementById('modal-container');
      const menu = document.getElementById('mobile-menu');
      const isModalOpen = modalContainer && !modalContainer.classList.contains('hidden');
      const isMenuOpen = menu && menu.classList.contains('is-open');
      const shouldLock = Boolean(isModalOpen || isMenuOpen);
      document.body.style.overflow = shouldLock ? 'hidden' : '';
      document.body.classList.toggle('is-overlay-open', shouldLock);

      if (lenis) {
        if (shouldLock) {
          lenis.stop();
        } else {
          lenis.start();
        }
      }
    }

    // Mobile Menu Toggle
    function toggleMobileMenu(forceState) {
      const menu = document.getElementById('mobile-menu');
      const menuButton = document.getElementById('mobile-menu-button');
      if (!menu) {
        return;
      }

      const shouldOpen = typeof forceState === 'boolean' ? forceState : !menu.classList.contains('is-open');
      const menuItems = menu.querySelectorAll('[data-menu-item]');

      if (shouldOpen) {
        menu.classList.add('is-open');
        menuItems.forEach((item, index) => {
          item.style.transitionDelay = `${85 + (index * 55)}ms`;
        });
      } else {
        menu.classList.remove('is-open');
        menuItems.forEach((item) => {
          item.style.transitionDelay = '0ms';
        });
      }

      menu.setAttribute('aria-hidden', shouldOpen ? 'false' : 'true');
      if (menuButton) {
        menuButton.setAttribute('aria-expanded', shouldOpen ? 'true' : 'false');
        menuButton.setAttribute('aria-label', shouldOpen ? 'Menü schließen' : 'Menü öffnen');
      }

      syncBodyLock();
    }

    function handleGlobalKeydown(event) {
      if (event.key !== 'Escape') {
        return;
      }

      toggleMobileMenu(false);
      closeModal();
    }

    function clamp(value, min, max) {
      return Math.min(max, Math.max(min, value));
    }

    function lerp(start, end, t) {
      return start + (end - start) * t;
    }

    function smoothstep(t) {
      return t * t * (3 - 2 * t);
    }

    function frameToCamera(frame) {
      return {
        center: { lat: frame.lat, lng: frame.lng },
        zoom: frame.zoom,
        tilt: frame.tilt,
        heading: frame.heading
      };
    }

    function getCameraForProgress(progress) {
      const eased = smoothstep(progress);
      const firstFrame = MAP_CAMERA_KEYFRAMES[0];
      const lastFrame = MAP_CAMERA_KEYFRAMES[MAP_CAMERA_KEYFRAMES.length - 1];

      if (eased <= firstFrame.at) {
        return frameToCamera(firstFrame);
      }
      if (eased >= lastFrame.at) {
        return frameToCamera(lastFrame);
      }

      for (let i = 1; i < MAP_CAMERA_KEYFRAMES.length; i += 1) {
        const previous = MAP_CAMERA_KEYFRAMES[i - 1];
        const next = MAP_CAMERA_KEYFRAMES[i];
        if (eased <= next.at) {
          const local = (eased - previous.at) / (next.at - previous.at);
          return {
            center: {
              lat: lerp(previous.lat, next.lat, local),
              lng: lerp(previous.lng, next.lng, local)
            },
            zoom: lerp(previous.zoom, next.zoom, local),
            tilt: lerp(previous.tilt, next.tilt, local),
            heading: lerp(previous.heading, next.heading, local)
          };
        }
      }

      return frameToCamera(lastFrame);
    }

    function getMapProgress() {
      if (!mapScrollState.section) {
        return 0;
      }

      const rect = mapScrollState.section.getBoundingClientRect();
      const distance = rect.height - window.innerHeight;
      if (distance <= 0) {
        return 1;
      }

      return clamp((-rect.top) / distance, 0, 1);
    }

    function updateMapLabel(progress) {
      if (!mapScrollState.label) {
        return;
      }

      let nextLabel = 'Ziel: Ordination Dr. Ruth Lechner';
      if (progress < 0.25) {
        nextLabel = 'Start: Kärnten im Überblick';
      } else if (progress < 0.55) {
        nextLabel = 'Anflug auf Feldkirchen';
      } else if (progress < 0.85) {
        nextLabel = 'Dr.-Arthur-Lemisch-Straße in Sicht';
      }

      if (mapScrollState.labelText === nextLabel) {
        return;
      }

      if (!mapScrollState.labelText || MOTION_PREFERS_REDUCED.matches) {
        mapScrollState.labelText = nextLabel;
        mapScrollState.label.textContent = nextLabel;
        return;
      }

      mapScrollState.labelText = nextLabel;
      mapScrollState.label.classList.add('is-swapping');
      if (mapScrollState.labelSwapTimer) {
        clearTimeout(mapScrollState.labelSwapTimer);
      }

      mapScrollState.labelSwapTimer = window.setTimeout(() => {
        mapScrollState.label.textContent = nextLabel;
        mapScrollState.label.classList.remove('is-swapping');
        mapScrollState.labelSwapTimer = 0;
      }, 150);
    }

    function applyCamera(camera) {
      if (!mapScrollState.map) {
        return;
      }

      if (typeof mapScrollState.map.moveCamera === 'function') {
        mapScrollState.map.moveCamera(camera);
        return;
      }

      mapScrollState.map.setCenter(camera.center);
      mapScrollState.map.setZoom(camera.zoom);
      if (typeof mapScrollState.map.setTilt === 'function') {
        mapScrollState.map.setTilt(camera.tilt);
      }
      if (typeof mapScrollState.map.setHeading === 'function') {
        mapScrollState.map.setHeading(camera.heading);
      }
    }

    function updateMapFromScroll(forceProgress) {
      const progress = typeof forceProgress === 'number' ? forceProgress : getMapProgress();
      setTargetMapProgress(progress);
    }

    function setTargetMapProgress(progress) {
      const nextProgress = clamp(progress, 0, 1);
      mapScrollState.targetProgress = nextProgress;
      updateMapLabel(nextProgress);

      if (!mapScrollState.map) {
        return;
      }

      if (mapScrollState.reducedMotion) {
        mapScrollState.renderedProgress = nextProgress;
        applyCamera(getCameraForProgress(nextProgress));
        return;
      }

      queueMapRender();
    }

    function queueMapRender() {
      if (!mapScrollState.map || mapScrollState.renderFrame) {
        return;
      }

      mapScrollState.renderFrame = window.requestAnimationFrame(renderMapFrame);
    }

    function renderMapFrame() {
      mapScrollState.renderFrame = 0;
      if (!mapScrollState.map) {
        return;
      }

      const delta = mapScrollState.targetProgress - mapScrollState.renderedProgress;
      if (Math.abs(delta) <= MAP_SCROLL_SNAP_DISTANCE) {
        mapScrollState.renderedProgress = mapScrollState.targetProgress;
      } else {
        const adaptiveEase = clamp(MAP_SCROLL_EASE_FACTOR + Math.abs(delta) * 0.24, MAP_SCROLL_EASE_FACTOR, 0.44);
        mapScrollState.renderedProgress += delta * adaptiveEase;
      }

      applyCamera(getCameraForProgress(mapScrollState.renderedProgress));

      if (Math.abs(mapScrollState.targetProgress - mapScrollState.renderedProgress) > MAP_SCROLL_SNAP_DISTANCE) {
        mapScrollState.renderFrame = window.requestAnimationFrame(renderMapFrame);
      }
    }

    function queueMapScrollUpdate() {
      if (mapScrollState.scrollFrame) {
        return;
      }

      mapScrollState.scrollFrame = window.requestAnimationFrame(() => {
        mapScrollState.scrollFrame = 0;
        updateMapFromScroll();
      });
    }

    function getMapScriptUrl() {
      return `https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(MAPS_API_KEY)}&v=weekly&libraries=marker&callback=handleGoogleMapsLoaded`;
    }

    function showMapFallback(message) {
      if (!mapScrollState.fallback) {
        mapScrollState.fallback = document.getElementById('map-load-fallback');
      }
      if (!mapScrollState.fallback) {
        return;
      }

      mapScrollState.fallback.innerHTML = `
        <div class="max-w-xl space-y-4">
          <p class="text-white text-2xl md:text-3xl font-serif">3D-Karte derzeit nicht verfügbar</p>
          <p class="text-white/75">${message}</p>
        </div>
      `;
      mapScrollState.fallback.classList.remove('hidden');
      mapScrollState.fallback.classList.add('flex');
    }

    function preloadMapScript() {
      if (window.google && window.google.maps) {
        return;
      }

      const scriptUrl = getMapScriptUrl();

      if (!document.querySelector('link[data-google-maps-preload]')) {
        const preload = document.createElement('link');
        preload.rel = 'preload';
        preload.as = 'script';
        preload.href = scriptUrl;
        preload.setAttribute('data-google-maps-preload', 'true');
        document.head.appendChild(preload);
      }

      if (mapScrollState.scriptRequested || document.querySelector('script[data-google-maps-loader]')) {
        return;
      }

      mapScrollState.scriptRequested = true;
      window.handleGoogleMapsLoaded = handleGoogleMapsLoaded;

      const mapsScript = document.createElement('script');
      mapsScript.src = scriptUrl;
      mapsScript.async = true;
      mapsScript.defer = true;
      mapsScript.setAttribute('data-google-maps-loader', 'true');
      mapsScript.onerror = () => {
        showMapFallback('Google Maps konnte nicht geladen werden. Prüfe API-Key und erlaubte Domain.');
      };
      document.head.appendChild(mapsScript);
    }

    function queueMapWarmupInit() {
      if (mapScrollState.warmupQueued || mapScrollState.mapRequested) {
        return;
      }

      mapScrollState.warmupQueued = true;
      const warmup = () => {
        mapScrollState.warmupQueued = false;
        mapScrollState.mapRequested = true;
        if (window.google && window.google.maps) {
          init3DMap();
        }
      };

      if (typeof window.requestIdleCallback === 'function') {
        window.requestIdleCallback(warmup, { timeout: 1500 });
      } else {
        window.setTimeout(warmup, 450);
      }
    }

    function watchMapPreloadZone() {
      if (!mapScrollState.section || mapScrollState.preloadObserver) {
        return;
      }

      mapScrollState.preloadObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) {
            return;
          }

          mapScrollState.mapRequested = true;
          if (window.google && window.google.maps) {
            init3DMap();
          }

          observer.disconnect();
          mapScrollState.preloadObserver = null;
        });
      }, { root: null, rootMargin: MAP_PRELOAD_ROOT_MARGIN, threshold: 0 });

      mapScrollState.preloadObserver.observe(mapScrollState.section);
    }

    function primeMapTiles() {
      if (!mapScrollState.map || mapScrollState.tilesPrimed || mapScrollState.reducedMotion || !mapScrollState.section) {
        return;
      }

      const sectionRect = mapScrollState.section.getBoundingClientRect();
      if (sectionRect.top < window.innerHeight * 0.9) {
        return;
      }

      mapScrollState.tilesPrimed = true;
      const prewarmProgress = [0.16, 0.48, 0.78, 1, mapScrollState.targetProgress];
      prewarmProgress.forEach((progress, index) => {
        window.setTimeout(() => {
          if (!mapScrollState.map) {
            return;
          }

          mapScrollState.renderedProgress = progress;
          applyCamera(getCameraForProgress(progress));

          if (index === prewarmProgress.length - 1) {
            queueMapRender();
          }
        }, index * 140);
      });
    }

    function initMapScrollExperience() {
      mapScrollState.section = document.querySelector('[data-map-scroll-section]');
      mapScrollState.label = document.getElementById('map-scroll-label');
      mapScrollState.fallback = document.getElementById('map-load-fallback');
      mapScrollState.reducedMotion = MOTION_PREFERS_REDUCED.matches;

      if (!mapScrollState.section || mapScrollState.experienceInitialized || MOBILE_VIEWPORT.matches) {
        return;
      }

      mapScrollState.experienceInitialized = true;
      setTargetMapProgress(getMapProgress());
      window.addEventListener('scroll', queueMapScrollUpdate, { passive: true });
      window.addEventListener('resize', queueMapScrollUpdate);

      if (!MAPS_API_KEY || MAPS_API_KEY === 'YOUR_GOOGLE_MAPS_API_KEY') {
        showMapFallback('Google Maps benötigt einen gültigen API-Key. Setze ihn über window.GOOGLE_MAPS_API_KEY oder MAPS_API_KEY in index.html.');
        setTargetMapProgress(1);
        return;
      }

      if (window.google && window.google.maps) {
        mapScrollState.mapRequested = true;
        init3DMap();
        return;
      }

      preloadMapScript();
      watchMapPreloadZone();
      queueMapWarmupInit();
    }

    function handleGoogleMapsLoaded() {
      mapScrollState.scriptRequested = true;
      if (mapScrollState.mapRequested) {
        init3DMap();
      }
    }

    function init3DMap() {
      if (MOBILE_VIEWPORT.matches) {
        return;
      }

      if (mapScrollState.map) {
        queueMapScrollUpdate();
        return;
      }

      const mapElement = document.getElementById('google-map-3d');
      if (!mapElement || !window.google || !window.google.maps) {
        showMapFallback('Initialisierung der Karte ist fehlgeschlagen.');
        return;
      }

      const startCamera = frameToCamera(MAP_CAMERA_KEYFRAMES[0]);
      mapScrollState.map = new google.maps.Map(mapElement, {
        center: startCamera.center,
        zoom: startCamera.zoom,
        heading: startCamera.heading,
        tilt: startCamera.tilt,
        mapTypeId: 'hybrid',
        disableDefaultUI: true,
        clickableIcons: false,
        keyboardShortcuts: false,
        gestureHandling: 'none'
      });

      new google.maps.Marker({
        position: PRACTICE_COORDS,
        map: mapScrollState.map,
        title: 'Ordination Dr. Ruth Lechner'
      });

      if (mapScrollState.fallback) {
        mapScrollState.fallback.classList.remove('flex');
        mapScrollState.fallback.classList.add('hidden');
      }

      if (mapScrollState.reducedMotion) {
        mapScrollState.renderedProgress = mapScrollState.targetProgress;
        applyCamera(getCameraForProgress(mapScrollState.targetProgress));
        return;
      }

      mapScrollState.renderedProgress = clamp(mapScrollState.targetProgress - 0.08, 0, 1);
      applyCamera(getCameraForProgress(mapScrollState.renderedProgress));
      primeMapTiles();
      queueMapRender();
    }

    window.init3DMap = init3DMap;
    window.handleGoogleMapsLoaded = handleGoogleMapsLoaded;

    // Modal System Content
    const modals = {
      impressum: `
        <div class="p-8 md:p-16">
          <div class="flex justify-between items-start mb-12">
            <h2 class="text-4xl font-serif text-brand-950">Impressum</h2>
            <button onclick="closeModal()" class="p-3 bg-gray-100 hover:bg-gray-200 rounded-full transition motion-button" aria-label="Schließen">
               <svg class="w-6 h-6 text-brand-950" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
          </div>
          <div class="space-y-8 text-brand-900/80 text-base leading-relaxed">
            <div>
              <strong class="block text-brand-950 font-bold mb-1">Anbieterin</strong>
              Ordination Dr. Ruth Lechner<br>Dr. Arthur Lemisch Straße 9/1<br>9560 Feldkirchen, Österreich
            </div>
            <div>
              <strong class="block text-brand-950 font-bold mb-1">Kontakt</strong>
              Tel.: +43 664 306 10 10<br>Fax: +43 4276 7225 20
            </div>
            <div class="grid grid-cols-2 gap-8 border-y border-gray-100 py-8 my-8">
              <div>
                <strong class="block text-brand-950 font-bold mb-1">Rechtsform</strong>
                Freiberuflich
              </div>
              <div>
                <strong class="block text-brand-950 font-bold mb-1">Verantwortlich</strong>
                Dr. Ruth Lechner
              </div>
              <div>
                <strong class="block text-brand-950 font-bold mb-1">Unternehmensgegenstand</strong>
                Fachärztin für Innere Medizin
              </div>
              <div>
                <strong class="block text-brand-950 font-bold mb-1">Kammer & Aufsicht</strong>
                Ärztekammer Kärnten
              </div>
            </div>
            <div>
              <strong class="block text-brand-950 font-bold mb-2">Inhalte & Haftung</strong>
              Inhalte dieser Website dienen der allgemeinen Information über die Ordination und ersetzen keine persönliche Beratung oder Untersuchung. Trotz sorgfältiger Erstellung kann keine Gewähr für Aktualität, Vollständigkeit und Richtigkeit übernommen werden. Externe Links werden zum Zeitpunkt der Verlinkung geprüft; für deren Inhalte sind die jeweiligen Anbieter verantwortlich.
            </div>
          </div>
        </div>
      `,
      datenschutz: `
        <div class="p-8 md:p-16">
          <div class="flex justify-between items-start mb-12">
            <h2 class="text-4xl font-serif text-brand-950">Datenschutz</h2>
            <button onclick="closeModal()" class="p-3 bg-gray-100 hover:bg-gray-200 rounded-full transition motion-button" aria-label="Schließen">
               <svg class="w-6 h-6 text-brand-950" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
          </div>
          <div class="space-y-8 text-brand-900/80 text-base leading-relaxed">
            <p class="text-lg text-brand-950 font-medium">Diese Datenschutzerklärung informiert Sie über die Verarbeitung Ihrer personenbezogenen Daten.</p>
            
            <div>
              <strong class="block text-brand-950 font-bold mb-2">1. Verantwortliche Stelle</strong>
              Ordination Dr. Ruth Lechner, Dr. Arthur Lemisch Straße 9/1, 9560 Feldkirchen.<br>Telefon: +43 664 306 10 10.
            </div>
            
            <div>
              <strong class="block text-brand-950 font-bold mb-2">2. Website-Betrieb & Server-Logfiles</strong>
              Beim Aufruf der Website werden technisch notwendige Daten (IP-Adresse, Zeitstempel, Browser) verarbeitet, um den sicheren Betrieb der Seite zu gewährleisten. Dies erfolgt aufgrund unseres berechtigten Interesses.
            </div>
            
            <div>
              <strong class="block text-brand-950 font-bold mb-2">3. Kontaktaufnahme</strong>
              Wenn Sie uns telefonisch oder per E-Mail kontaktieren, verarbeiten wir Ihre freiwillig angegebenen Daten ausschließlich zur Bearbeitung der Anfrage.
            </div>
            
            <div class="p-6 bg-[#f8faf9] rounded-2xl border border-gray-100 mt-8">
              <strong class="block text-brand-950 font-bold mb-2">4. Ihre Rechte</strong>
              Sie haben jederzeit das Recht auf Auskunft, Berichtigung, Löschung, Einschränkung und Datenübertragbarkeit Ihrer gespeicherten Daten. Wenden Sie sich bei Fragen gerne an uns.
            </div>
          </div>
        </div>
      `
    };

    function openModal(id) {
      const container = document.getElementById('modal-container');
      const backdrop = document.getElementById('modal-backdrop');
      const content = document.getElementById('modal-content');
      if (!modals[id] || !container || !backdrop || !content) {
        return;
      }

      if (modalState.closeTimer) {
        clearTimeout(modalState.closeTimer);
        modalState.closeTimer = 0;
      }
      
      content.innerHTML = modals[id];
      container.classList.remove('hidden');
      container.classList.add('flex');
      
      // Force reflow
      void container.offsetWidth;
      
      backdrop.classList.remove('opacity-0');
      backdrop.classList.add('opacity-100');
      content.classList.remove('scale-95', 'opacity-0');
      content.classList.add('scale-100', 'opacity-100');
      syncBodyLock();
    }

    function closeModal() {
      const container = document.getElementById('modal-container');
      const backdrop = document.getElementById('modal-backdrop');
      const content = document.getElementById('modal-content');
      if (!container || !backdrop || !content || container.classList.contains('hidden')) {
        syncBodyLock();
        return;
      }
      
      backdrop.classList.remove('opacity-100');
      backdrop.classList.add('opacity-0');
      content.classList.remove('scale-100', 'opacity-100');
      content.classList.add('scale-95', 'opacity-0');
      
      const closeDelay = MOTION_PREFERS_REDUCED.matches ? 0 : 640;
      modalState.closeTimer = window.setTimeout(() => {
        container.classList.remove('flex');
        container.classList.add('hidden');
        syncBodyLock();
        modalState.closeTimer = 0;
      }, closeDelay); // Wait for transition
    }
  </script>
</body>
</html>
